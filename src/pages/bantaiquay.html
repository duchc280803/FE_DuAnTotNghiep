<style>
  input[type="checkbox"] {
    height: 0;
    width: 0;
    visibility: hidden;
  }

  label {
    margin-right: 40px;
    margin-top: -20px;
    cursor: pointer;
    text-indent: -9999px;
    width: 60px;
    height: 30px;
    background: grey;
    display: block;
    border-radius: 100px;
    position: relative;
  }
  label:after {
    content: "";
    position: absolute;
    top: 5px;
    left: 5px;
    width: 20px;
    height: 20px;
    background: #fff;
    border-radius: 50px;
    transition: 0.3s;
  }
  input:checked + label {
    background: #bada55;
  }
  input:checked + label:after {
    left: calc(100% - 5px);
    transform: translateX(-100%);
  }

  label:active:after {
    width: 130px;
  }
  tr.order_selected.ng-scope.selected {
    background-color: #c6eb34;
  }
</style>
<div
  class="page-wrapper"
  id="main-wrapper"
  data-layout="vertical"
  data-navbarbg="skin6"
  data-sidebartype="full"
  data-sidebar-position="fixed"
  data-header-position="fixed"
>
  <aside class="left-sidebar">
    <div>
      <div class="brand-logo d-flex align-items-center justify-content-between">
        <a href="./index.html" class="text-nowrap logo-img">
          <img
            src="/assets/images/z4754468708043_e3218b27549165452a995a7d4cbe6705_preview_rev_1.png"
            width="130"
            alt=""
          />
        </a>
        <div
          class="close-btn d-xl-none d-block sidebartoggler cursor-pointer"
          id="sidebarCollapse"
        >
          <i class="ti ti-x fs-8"></i>
        </div>
      </div>
      <nav class="sidebar-nav scroll-sidebar" data-simplebar="">
        <ul id="sidebarnav">
          <li class="nav-small-cap">
            <i class="ti ti-dots nav-small-cap-icon fs-4"></i>
            <span class="hide-menu">Home</span>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="#/dashboard" aria-expanded="false">
              <span>
                <i class="ti ti-layout-dashboard"></i>
              </span>
              <span class="hide-menu">Dashboard</span>
            </a>
          </li>
          <li class="nav-small-cap">
            <img src="" alt="" />
            <span class="hide-menu">Chức Năng</span>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="#/hoa-don" aria-expanded="false">
              <span>
                <img
                  src="/assets/images/receipt.png"
                  width="180"
                  alt=""
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Hóa Đơn</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a
              class="sidebar-link"
              href="#/order-counter"
              aria-expanded="false"
            >
              <span>
                <img
                  src="/assets/images/shopping-cart-plus.png"
                  width="180"
                  alt=""
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Bán Tại Quầy</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a
              href="#pageSubmenu"
              class="dropdown-toggle collapsed sidebar-link"
            >
              <span>
                <img
                  src="/assets/images/delivery-box.png"
                  width="180"
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Quản Lý Sản Phẩm</span>
            </a>
            <ul class="list-unstyled collapse" id="pageSubmenu">
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Sản Phẩm</a>
              </li>
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Đế Giày</a>
              </li>
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Xuất Xứ</a>
              </li>
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Danh Mục</a>
              </li>
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Chất Liệu</a>
              </li>
              <li class="sidebar-item">
                <a class="sidebar-link" href="#">Thương Hiệu</a>
              </li>
            </ul>
          </li>
          <li class="sidebar-item">
            <a
              href="#pageSubmenu1"
              class="dropdown-toggle1 collapsed sidebar-link"
            >
              <span>
                <img
                  src="/assets/images/add-user.png"
                  width="180"
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Quản Lý Tài Khoản</span>
            </a>
            <ul class="list-unstyled collapse" id="pageSubmenu1">
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  href="#/admin/account/nhan-vien"
                  style="margin-left: 35px"
                  >Nhân Viên</a
                >
              </li>
              <li class="sidebar-item">
                <a
                  class="sidebar-link"
                  href="#/admin/account/khach-hang"
                  style="margin-left: 35px"
                  >Khách Hàng</a
                >
              </li>
            </ul>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="#/khuyen-mai" aria-expanded="false">
              <span>
                <img
                  src="/assets/images/ticket.png"
                  width="180"
                  alt=""
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Quản Lý Khuyến Mại</span>
            </a>
          </li>
          <li class="sidebar-item">
            <a class="sidebar-link" href="#/giam-gia" aria-expanded="false">
              <span>
                <img
                  src="/assets/images/ticket.png"
                  width="180"
                  alt=""
                  style="width: 21px; height: 21px"
                />
              </span>
              <span class="hide-menu">Quản Lý Voucher</span>
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </aside>
  <div class="body-wrapper">
    <header class="app-header">
      <nav class="navbar navbar-expand-lg navbar-light">
        <ul class="navbar-nav">
          <li class="nav-item d-block d-xl-none">
            <a
              class="nav-link sidebartoggler nav-icon-hover"
              id="headerCollapse"
              href="javascript:void(0)"
            >
              <i class="ti ti-menu-2"></i>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link nav-icon-hover" href="javascript:void(0)">
              <i class="ti ti-bell-ringing"></i>
              <div class="notification bg-primary rounded-circle"></div>
            </a>
          </li>
        </ul>
        <div class="navbar-collapse justify-content-end px-0" id="navbarNav">
          <ul
            class="navbar-nav flex-row ms-auto align-items-center justify-content-end"
          >
            <li class="nav-item dropdown">
              <a
                class="nav-link nav-icon-hover"
                href="javascript:void(0)"
                id="drop2"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                <img
                  src="/assets/images/profile/user-1.jpg"
                  alt=""
                  width="35"
                  height="35"
                  class="rounded-circle"
                />
              </a>
              <div
                class="dropdown-menu dropdown-menu-end dropdown-menu-animate-up"
                aria-labelledby="drop2"
              >
                <div class="message-body">
                  <a
                    href="javascript:void(0)"
                    class="d-flex align-items-center gap-2 dropdown-item"
                  >
                    <i class="ti ti-user fs-6"></i>
                    <p class="mb-0 fs-3">My Profile</p>
                  </a>
                  <a
                    href="javascript:void(0)"
                    class="d-flex align-items-center gap-2 dropdown-item"
                  >
                    <i class="ti ti-mail fs-6"></i>
                    <p class="mb-0 fs-3">My Account</p>
                  </a>
                  <a
                    href="javascript:void(0)"
                    class="d-flex align-items-center gap-2 dropdown-item"
                  >
                    <i class="ti ti-list-check fs-6"></i>
                    <p class="mb-0 fs-3">My Task</p>
                  </a>
                  <div ng-controller="loginController">
                    <div ng-if="!isLoggedIn">
                      <a
                        href="pages/authentication-login.html"
                        class="btn btn-outline-primary mx-3 mt-2 d-block"
                        >Login</a
                      >
                    </div>
                    <div ng-if="isLoggedIn">
                      <a
                        ng-click="logout()"
                        class="btn btn-outline-primary mx-3 mt-2 d-block"
                        >Logout</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </li>
          </ul>
        </div>
      </nav>
    </header>
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-12">
          <div class="row">
            <div class="col-lg-12">
              <div class="card overflow-hidden">
                <div class="card-body p-4">
                  <div class="row">
                    <div class="col-lg-6">
                      <h5 class="card-title mb-9 fw-semibold">Hóa Đơn</h5>
                    </div>
                    <div class="col-lg-6" style="padding-left: 429px"></div>
                    <div class="col-lg-6">
                      <input
                        class="form-control"
                        style="width: 800px"
                        placeholder="Tìm hóa đơn"
                        ng-model="searchKeyword"
                        ng-change="searchOrder(searchKeyword)"
                      />
                    </div>
                    <div class="col-lg-6" style="padding-left: 270px">
                      <button
                        type="button"
                        class="btn btn-outline-primary m-1"
                        ng-click="createHoaDon()"
                      >
                        Tạo hóa đơn
                      </button>

                      <button
                        type="button"
                        class="btn btn-outline-primary m-1"
                        ng-click="getListHoaDonTaiQuay ()"
                      >
                        Làm mới
                      </button>
                    </div>
                  </div>
                  <hr />
                  <div class="row">
                    <div class="col-lg-12">
                      <div style="overflow-x: auto; width: 1104px">
                        <table
                          class="table table-hover"
                          style="white-space: nowrap; width: 1104px"
                        >
                          <thead>
                            <tr style="background-color: lightskyblue">
                              <th scope="col">STT</th>
                              <th scope="col">Mã hóa đơn</th>
                              <th scope="col">Nhân viên</th>
                              <th scope="col">Ngày tạo</th>
                              <th scope="col">Khách hàng</th>
                              <th scope="col">Loại đơn</th>
                              <th scope="col">Trạng thái</th>
                              <th scope="col">Thao tác</th>
                            </tr>
                          </thead>
                          <tbody class="table">
                            <tr ng-repeat="hd in listHoaDonTaiQuay">
                              <td>{{$index + 1 + (pageNumber * pageSize)}}</td>
                              <td>{{hd.maHoaDon}}</td>
                              <td>{{hd.tenNhanVien}}</td>
                              <td>
                                {{hd.ngayTao | date:'MM/dd/yyyy h:mm:ss a'}}
                              </td>
                              <td>{{hd.tenKhachHang}}</td>
                              <td>{{hd.loaiDon}}</td>
                              <td>
                                {{hd.trangThai == 1 ? "Chờ Thanh Toán" : "Thành
                                Công"}}
                              </td>
                              <td>
                                <a
                                  class="btn btn-outline-primary"
                                  ng-click="luuIdHoaDon(hd.id)"
                                  >Chọn</a
                                >
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </div>
                    <div class="col-lg-12">
                      <nav
                        aria-label="Page navigation example"
                        style="margin-left: 400px"
                      >
                        <ul class="pagination">
                          <li class="page-item">
                            <a
                              class="page-link"
                              ng-href=""
                              ng-click="previousPage()"
                              >Previous</a
                            >
                          </li>
                          <li
                            class="page-item"
                            ng-repeat="page in getPageNumbers()"
                          >
                            <a
                              class="page-link"
                              ng-href="#/ban-tai-quay?pageNumber={{page}}"
                              ng-click="updatePage(page)"
                              >{{ page }}</a
                            >
                          </li>
                          <li class="page-item">
                            <a
                              class="page-link"
                              ng-href=""
                              ng-click="nextPage()"
                              >Next</a
                            >
                          </li>
                        </ul>
                      </nav>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12">
          <div class="row">
            <div class="col-lg-12">
              <div class="card overflow-hidden">
                <div class="card-body p-4">
                  <h5 class="card-title mb-9 fw-semibold">
                    Thông Tin Sản Phẩm / {{orderDetailCounter.maHoaDon}} /
                    {{orderDetailCounter.ngayTao | date:'MM/dd/yyyy h:mm:ss a'}}
                  </h5>
                  <div class="row">
                    <div class="col-lg-10">
                      <input
                        style="width: 1030px"
                        class="form-control"
                        placeholder="Tìm Sản Phẩm"
                        data-bs-toggle="modal"
                        data-bs-target="#exampleModal"
                      />
                    </div>
                    <div class="col-lg-2"></div>
                  </div>
                  <br />
                  <div class="box">
                    <table class="table">
                      <thead>
                        <tr style="background-color: lightskyblue">
                          <th scope="col">STT</th>
                          <th scope="col">Ảnh</th>
                          <th scope="col">Tên Sản Phẩm</th>
                          <th scope="col">Số lượng</th>
                          <th scope="col">Đơn giá</th>
                          <th scope="col">Tổng tiền</th>
                          <th scope="col">Thao tác</th>
                        </tr>
                      </thead>
                      <tbody
                        class="table"
                        ng-repeat="lc in listCart"
                        style="border: 1px solid #ccc"
                      >
                        <tr>
                          <th scope="row" style="padding-top: 80px">
                            {{$index + 1}}
                          </th>
                          <td>
                            <img src="{{lc.image}}" alt="" width="150px" />
                          </td>
                          <td style="padding-top: 50px">
                            {{lc.tenSanPham}}
                            <br />
                            Size: {{lc.size}}
                            <br />
                            Kiểu đế: {{lc.kieuDe}}
                            <br />
                            Màu sắc: {{lc.mauSac}}
                          </td>
                          <td style="padding-top: 50px">
                            <div class="quantity">
                              <input
                              style="margin-left: -40px; width: 70px"
                              type="number"
                              class="next-input text-left min-width-100px position-relative"
                              ng-value="lc.soLuong"
                              ng-model="soLuong"
                              ng-change="updateCart(lc.idGioHang,soLuong)"
                            />
                            </div>
                          </td>
                          <td style="padding-top: 60px">
                            <div ng-show="lc.giaGiam != null">
                              {{lc.giaGiam | number}}đ
                              <span>
                                <strike>{{lc.giaBan | number}}₫</strike></span
                              >
                            </div>
                            <div ng-show="lc.giaGiam == null">
                              {{lc.giaBan | number}}đ
                            </div>
                          </td>
                          <td style="padding-top: 60px">
                            <div ng-show="lc.giaGiam != null">
                              {{lc.giaGiam * lc.soLuong | number}}đ
                            </div>
                            <div ng-show="lc.giaGiam == null">
                              {{lc.giaBan * lc.soLuong | number}}đ
                            </div>
                          </td>
                          <td style="padding-top: 60px">
                            <button
                              class="btn btn-outline-primary m-1"
                              ng-click="deleteProduct($event, $index)"
                            >
                              Xóa
                            </button>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div
                    class="modal fade"
                    id="exampleModal"
                    tabindex="-1"
                    aria-labelledby="exampleModalLabel"
                    aria-hidden="true"
                  >
                    <div class="modal-dialog modal-lg">
                      <div class="modal-content custom-modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">Tìm kiếm sản phẩm</h5>
                        </div>
                        <div class="modal-body">
                          <div class="row">
                            <div class="col-lg-8">
                              <input
                                ng-model="key"
                                class="form-control"
                                placeholder="Tìm sản phẩm"
                              />
                            </div>
                            <div class="col-lg-4 d-flex justify-content-start">
                              <button
                                ng-click="searchSanPham()"
                                type="button"
                                class="btn btn-primary"
                              >
                                Tìm Kiếm
                              </button>
                              <button
                                type="button"
                                ng-click="getListSanPhamTaiQuay()"
                                class="btn btn-warning"
                                style="margin-left: 10px"
                              >
                                Làm mới
                              </button>
                            </div>
                          </div>
                          <br />
                          <div class="row">
                            <div class="form-group col-md-3">
                              <h6 class="text">Thương hiệu:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="brand"
                                ng-change="filterBrand()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="th in listThuongHieu"
                                  value="{{th.tenThuongHieu}}"
                                >
                                  {{th.tenThuongHieu}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-3">
                              <h6 class="text">Danh mục:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locCategory"
                                ng-change="filterCategory()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="dm in listDanhMuc"
                                  value="{{dm.tenDanhMuc}}"
                                >
                                  {{dm.tenDanhMuc}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-3">
                              <h6 class="text">Xuất xứ:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locOrigin"
                                ng-change="filterOrigin()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="xx in listXuatXu"
                                  value="{{xx.tenXuatXu}}"
                                >
                                  {{xx.tenXuatXu}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-3">
                              <h6 class="text">Kiểu đế:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locSole"
                                ng-change="filterSole()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="kd in listKieuDe"
                                  value="{{kd.tenDe}}"
                                >
                                  {{kd.tenDe}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-4">
                              <br />
                              <h6 class="text">Màu sắc:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locMauSac"
                                ng-change="filterColor()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="ms in listMauSac"
                                  value="{{ms.tenMauSac}}"
                                >
                                  {{ms.tenMauSac}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-4">
                              <br />
                              <h6 class="text">Size:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locSize"
                                ng-change="filterSize()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="s in listSize"
                                  value="{{s.size}}"
                                >
                                  {{s.size}}
                                </option>
                              </select>
                            </div>
                            <div class="form-group col-md-4">
                              <br />
                              <h6 class="text">Chất liệu:</h6>
                              <select
                                class="form-control select2"
                                id="simple-select2"
                                ng-model="locMaterial"
                                ng-change="filterMaterial()"
                              >
                                <option value="">Tất cả</option>
                                <option
                                  ng-repeat="cl in listChatLieu"
                                  value="{{cl.tenChatLieu}}"
                                >
                                  {{cl.tenChatLieu}}
                                </option>
                              </select>
                            </div>
                          </div>
                          <br />
                          <div class="box">
                            <table class="table table-borderless">
                              <thead>
                                <tr
                                  class="text-center"
                                  style="background-color: lightskyblue"
                                >
                                  <th scope="col">STT</th>
                                  <th scope="col">Ảnh</th>
                                  <th scope="col">Tên Sản Phẩm</th>
                                  <th scope="col" style="width: 120px">Giá</th>
                                  <th scope="col">Số Lượng</th>
                                  <th scope="col">Thao Tác</th>
                                </tr>
                              </thead>
                              <tbody>
                                <tr
                                  style="border: 1px solid #ccc"
                                  class="text-center"
                                  ng-repeat="sptq in listSanPhamTaiQuay"
                                >
                                  <td style="padding-top: 55px">
                                    {{$index + 1 + (pageNumberSp * pageSizeSp)}}
                                  </td>
                                  <td>
                                    <div class="d-flex justify-content-center">
                                      <img
                                        src="{{sptq.imgage}}"
                                        alt="..."
                                        class="img-fluid"
                                        style="
                                          max-width: 100px;
                                          max-height: 100px;
                                        "
                                      />
                                    </div>
                                  </td>
                                  <td style="padding-top: 25px">
                                    <small class="mb-0 text-muted h5"
                                      ><strong
                                        >{{sptq.tenSanPham}}
                                      </strong></small
                                    >
                                    <br />
                                    <span>Size:</span>
                                    <span>{{sptq.size}}</span>
                                    <br />
                                    <span>Màu sắc:</span>
                                    <span>{{sptq.mauSac}}</span>
                                    <br />
                                    <span>Chất liệu:</span>
                                    <span>{{sptq.chatLieu}}</span>
                                  </td>
                                  <td style="padding-top: 55px">
                                    <small
                                      class="mb-0 text-muted h6"
                                      ng-show="sptq.giaGiamGia != null && sptq.giaGiamGia != 0"
                                    >
                                      <strong>
                                        <span class="text-danger">
                                          {{ sptq.giaBan | number}}đ
                                        </span>
                                        <strike class="text-danger">
                                          {{ sptq.giaGiamGia | number}}đ
                                        </strike>
                                      </strong>
                                    </small>
                                    <small
                                      class="mb-0 text-muted h6"
                                      ng-show="sptq.giaGiamGia == 0"
                                    >
                                      <strong>
                                        <span class="text-danger">
                                          {{ sptq.giaBan | number}}đ
                                        </span>
                                      </strong>
                                    </small>
                                  </td>
                                  <td style="padding-top: 55px">
                                    <div class="quantity">
                                      <input
                                        ng-model="soLuongSanPham"
                                        min="1"
                                        max="{{sptq.soLuong}}"
                                        type="number"
                                        class="next-input text-left min-width-100px position-relative quantity-decimal"
                                      />
                                    </div>
                                    <h6
                                      style="margin-left: 0px; padding-top: 5px"
                                    >
                                      {{sptq.soLuong}} sản phẩm có sẵn
                                    </h6>
                                  </td>
                                  <td style="padding-top: 55px">
                                    <button
                                      type="button"
                                      class="btn btn-primary"
                                      data-bs-dismiss="modal"
                                      ng-click="themSanPhamCart(sptq.idSanPhamChiTiet, soLuongSanPham)"
                                    >
                                      Thêm vào giỏ hàng
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                        <nav
                          aria-label="Page navigation example"
                          style="margin-left: 450px"
                        >
                          <ul class="pagination">
                            <li class="page-item">
                              <a class="page-link" ng-click="previousPageSp()"
                                >Previous</a
                              >
                            </li>
                            <li
                              class="page-item"
                              ng-repeat="page in getPaginationNumbers()"
                            >
                              <a
                                class="page-link"
                                ng-click="pageNumberSp = pageNumber"
                                >{{ page }}</a
                              >
                            </li>
                            <li class="page-item">
                              <a class="page-link" ng-click="nextPageSp()"
                                >Next</a
                              >
                            </li>
                          </ul>
                        </nav>
                        <div class="modal-footer">
                          <button
                            type="button"
                            class="btn btn-secondary"
                            data-bs-dismiss="modal"
                          >
                            Close
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- modal sản phẩm -->
              </div>
            </div>
            <div class="card overflow-hidden">
              <div class="card-body p-4">
                <div class="row">
                  <div class="col-lg-6">
                    <div class="row">
                      <div class="col-lg-6">
                        <h5 class="card-title mb-9 fw-semibold">Khách hàng</h5>
                      </div>
                      <div class="col-lg-6" style="margin-left: -175px">
                        <a
                          data-bs-toggle="modal"
                          data-bs-target="#exampleModal2"
                          class="btn btn-outline-primary"
                        >
                          Chọn
                        </a>
                        <!--SHOW KHÁCH AND  Thêm khách -->
                        <div
                          class="modal fade"
                          id="exampleModal2"
                          tabindex="-1"
                          aria-labelledby="exampleModalLabel"
                          aria-hidden="true"
                        >
                          <div class="modal-dialog modal-lg">
                            <div class="modal-content custom-modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title">Tìm kiếm Khách Hàng</h5>
                              </div>
                              <div class="modal-body">
                                <div class="row">
                                  <div class="col-lg-8">
                                    <input
                                      ng-model="searchKeyword"
                                      class="form-control"
                                      placeholder="Tìm khách hàng"
                                    />
                                  </div>
                                  <div
                                    class="col-lg-4 d-flex justify-content-start"
                                  >
                                    <button
                                      ng-click="searchKhach()"
                                      type="button"
                                      class="btn btn-outline-primary m-1"
                                    >
                                      Tìm Kiếm
                                    </button>
                                    <button
                                      type="button"
                                      ng-click="showKhachHang()"
                                      class="btn btn-outline-primary m-1"
                                    >
                                      Làm mới
                                    </button>
                                    <button
                                      type="button"
                                      class="btn btn-outline-primary m-1"
                                      data-bs-toggle="modal"
                                      data-bs-target="#exampleModal3"
                                    >
                                      Thêm
                                    </button>
                                  </div>
                                </div>
                                <div class="box">
                                  <table class="table">
                                    <thead>
                                      <tr
                                        style="background-color: lightskyblue"
                                      >
                                        <th scope="col">STT</th>
                                        <th scope="col">Tên Khách Hàng</th>
                                        <th scope="col">Email</th>
                                        <th scope="col">Số Điện Thoại</th>
                                        <th scope="col">Địa Chỉ</th>
                                        <th scope="col">Thao Tác</th>
                                      </tr>
                                    </thead>
                                    <tbody
                                      class="table"
                                      ng-repeat="kh in listKhachHang"
                                    >
                                      <tr>
                                        <th scope="row">{{$index + 1}}</th>
                                        <td>{{kh.ten}}</td>
                                        <td>{{kh.email}}</td>
                                        <td>{{kh.soDienThoai}}</td>
                                        <td>{{kh.diaChi}}</td>
                                        <td>
                                          <button
                                            ng-click="updateKhachHang(kh.id)"
                                            type="button"
                                            class="btn btn-outline-primary m-1"
                                            data-bs-dismiss="modal"
                                          >
                                            Chọn
                                          </button>
                                        </td>
                                      </tr>
                                    </tbody>
                                  </table>
                                </div>
                              </div>
                              <div class="modal-footer">
                                <button
                                  type="button"
                                  class="btn btn-secondary"
                                  data-bs-dismiss="modal"
                                >
                                  Close
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <div
                          class="modal fade"
                          id="exampleModal3"
                          tabindex="-1"
                          aria-labelledby="exampleModalLabel"
                          aria-hidden="true"
                        >
                          <div class="modal-dialog modal-lg">
                            <div
                              class="modal-content custom-modal-content"
                              style="
                                width: 620px;
                                margin: auto;
                                margin-left: 80px;
                                height: 500px;
                              "
                            >
                              <div class="modal-header">
                                <h5 class="modal-title">Thêm Khách Hàng</h5>
                              </div>
                              <div class="modal-body">
                                <div class="row">
                                  <div class="col-lg-6">
                                    <h6 class="text">Họ Tên Khách</h6>
                                    <input
                                      class="form-control"
                                      placeholder="Nhập họ tên khách"
                                      ng-model="newKhachHang.hoTen"
                                    />
                                  </div>
                                  <div class="col-lg-6">
                                    <h6 class="text">Số điên thoại</h6>
                                    <input
                                      ng-model="newKhachHang.soDienThoai"
                                      class="form-control"
                                      placeholder="Nhập số điện thoại"
                                    />
                                  </div>
                                </div>
                                <br />
                                <div class="row">
                                  <div class="col-lg-6">
                                    <h6 class="text">Email</h6>
                                    <input
                                      class="form-control"
                                      ng-model="newKhachHang.email"
                                      placeholder="Nhập email"
                                    />
                                  </div>
                                  <div class="col-lg-6">
                                    <h6 class="text">Ngày Sinh</h6>
                                    <input
                                      type="date"
                                      ng-model="newKhachHang.ngaySinh"
                                      class="form-control"
                                    />
                                  </div>
                                </div>
                                <br />
                                <div class="row">
                                  <div class="col-lg-12">
                                    <h6 class="text">Địa Chỉ</h6>
                                    <input
                                      class="form-control"
                                      placeholder="Nhập địa chỉ"
                                      ng-model="newKhachHang.diaChi"
                                    />
                                  </div>
                                </div>
                                <br />
                              </div>
                              <div class="modal-footer">
                                <button
                                  type="button"
                                  class="btn btn-secondary"
                                  ng-click="createKhachHang()"
                                  data-bs-dismiss="modal"
                                >
                                  Thêm
                                </button>
                                <button
                                  type="button"
                                  class="btn btn-secondary"
                                  data-bs-dismiss="modal"
                                >
                                  Close
                                </button>
                              </div>
                            </div>
                          </div>
                        </div>
                        <!--SHOW KHÁCH AND  Thêm khách -->
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-6">
                    <h5 class="card-title mb-9 fw-semibold">
                      Thông Tin Thanh Toán / {{orderDetailCounter.maHoaDon}} /
                      {{orderDetailCounter.ngayTao | date:'MM/dd/yyyy h:mm:ss
                      a'}}
                    </h5>
                  </div>
                </div>
                <div class="layout-card--section">
                  <div class="container">
                    <div class="row">
                      <div class="col-lg-6">
                        <div ng-show="showInput">
                          <input
                            ng-model="hoTen"
                            type="text"
                            disabled
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.tenKhach"
                            placeholder="Nhập họ và tên khách"
                          />
                          <input
                            ng-show="orderDetailCounter.tenKhach != 'Khách lẻ'"
                            ng-model="email"
                            type="text"
                            disabled
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.email"
                            placeholder="Nhập email"
                          />
                          <input
                            ng-show="orderDetailCounter.tenKhach != 'Khách lẻ'"
                            ng-model="soDienThoai"
                            type="text"
                            disabled
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.soDienThoai"
                            placeholder="Nhập số điện thoại"
                          />
                          <input
                            ng-show="orderDetailCounter.tenKhach != 'Khách lẻ'"
                            ng-model="diaChi"
                            type="text"
                            disabled
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.diaChi"
                            placeholder="Nhập địa chỉ"
                          />
                        </div>
                        <div ng-show="!showInput">
                          <input
                            ng-model="hoTen"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.tenKhach"
                            placeholder="Nhập họ và tên khách"
                          />
                          <input
                            ng-model="email"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.email"
                            placeholder="Nhập email"
                          />
                          <input
                            ng-model="soDienThoai"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.soDienThoai"
                            placeholder="Nhập số điện thoại"
                          />
                          <input
                            ng-model="diaChi"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            ng-value="orderDetailCounter.diaChi"
                            placeholder="Nhập địa chỉ"
                          />
                          <input
                            ng-model="tenNguoiShip"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            placeholder="Nhập họ và tên người ship"
                          />
                          <input
                            ng-model="soDienThoaiNguoiShip"
                            type="text"
                            class="form-control hidden-input"
                            style="margin-left: -30px; margin-bottom: 30px"
                            placeholder="Số điện thoại người ship"
                          />
                        </div>
                      </div>
                      <div class="col-sm-6 col-12">
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <div class="row">
                                <div class="col-lg-5">
                                  <span class="header-title"
                                    >Khách thanh toán</span
                                  >
                                </div>
                                <div class="col-lg-7">
                                  <button
                                    class="btn btn-outline-primary"
                                    data-bs-toggle="modal"
                                    data-bs-target="#exampleModal5"
                                    style="margin-left: 80px"
                                  >
                                    <img
                                      src="/assets/images/lending.png"
                                      width="25px"
                                      alt=""
                                      srcset=""
                                    />
                                  </button>
                                  <!-- thanh toán -->
                                  <div
                                    class="modal fade"
                                    id="exampleModal5"
                                    tabindex="-1"
                                    aria-labelledby="exampleModalLabel"
                                    aria-hidden="true"
                                  >
                                    <div class="modal-dialog modal-lg">
                                      <div
                                        class="modal-content custom-modal-content"
                                      >
                                        <div class="modal-header">
                                          <h5 class="modal-title">
                                            Thanh toán
                                          </h5>
                                        </div>
                                        <div class="modal-body">
                                          <div class="row">
                                            <div class="col-lg-1">
                                              <h6 style="padding-top: 10px">
                                                Số tiền
                                              </h6>
                                            </div>
                                            <div class="col-lg-11">
                                              <input
                                                ng-model="newTransaction.soTien"
                                                class="form-control"
                                                placeholder="Nhập số tiền khách trả"
                                              />
                                            </div>
                                          </div>
                                          <br />
                                          <div class="row">
                                            <div class="col-lg-4">
                                              <button
                                                class="btn btn-outline-primary"
                                                style="margin-left: 50px"
                                                ng-click="createTransaction()"
                                              >
                                                Tiền mặt
                                              </button>
                                            </div>
                                            <div class="col-lg-4">
                                              <button
                                                class="btn btn-outline-primary"
                                                style="margin-left: 50px"
                                                ng-click="createTransactionVnpay(tongTienHang - totalAmountPaid)"
                                              >
                                                Chuyển khoản
                                              </button>
                                            </div>
                                            <div class="col-lg-4">
                                              <button
                                                class="btn btn-outline-primary"
                                                style="margin-left: 50px"
                                              >
                                                QR Code
                                              </button>
                                            </div>
                                          </div>
                                          <br />
                                          <div class="box">
                                            <table class="table table-hover">
                                              <thead>
                                                <tr
                                                  style="
                                                    background-color: lightskyblue;
                                                  "
                                                >
                                                  <th scope="col">STT</th>
                                                  <th scope="col">
                                                    Mã giao dịnh
                                                  </th>
                                                  <th scope="col">Số tiền</th>
                                                  <th scope="col">
                                                    Phương thức
                                                  </th>
                                                </tr>
                                              </thead>
                                              <tbody class="table">
                                                <tr
                                                  ng-repeat="lt in listTransaction"
                                                >
                                                  <th scope="row">
                                                    {{$index + 1}}
                                                  </th>
                                                  <td>{{lt.maGiaoDinh}}</td>
                                                  <td>
                                                    {{lt.soTien | number}}đ
                                                  </td>
                                                  <td>
                                                    {{lt.phuongThuc == 1 ? 'Tiền
                                                    Mặt' : 'Chuyển khoản'}}
                                                  </td>
                                                </tr>
                                              </tbody>
                                            </table>
                                          </div>
                                          <br />
                                          <div
                                            class="omni-layout-card--section-section"
                                          >
                                            <div
                                              class="omni-layout-card--item-stack-cover"
                                            >
                                              <div
                                                class="omni-layout-card--item-stack fill"
                                              >
                                                <span class="header-title"
                                                  >Khách thanh toán</span
                                                >
                                              </div>
                                              <div
                                                class="omni-layout-card--item-stack fill text-right"
                                              >
                                                <span
                                                  class="header-title"
                                                  style="color: #dd2222"
                                                  ng-model="newTransaction.tienKhachTra"
                                                  >{{totalAmountPaid |
                                                  number}}đ</span
                                                >
                                              </div>
                                            </div>
                                          </div>
                                          <div
                                            class="omni-layout-card--section-section"
                                          >
                                            <div
                                              class="omni-layout-card--item-stack-cover"
                                            >
                                              <div
                                                class="omni-layout-card--item-stack fill"
                                              >
                                                <span class="header-title"
                                                  >Tiền thiếu</span
                                                >
                                              </div>
                                              <div
                                                class="omni-layout-card--item-stack fill text-right"
                                              >
                                                <span class="header-title">
                                                  {{ (tongTienHang -
                                                  totalAmountPaid) >= 0 ?
                                                  (tongTienHang -
                                                  totalAmountPaid) : '0' |
                                                  number }}₫
                                                </span>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                        <div class="modal-footer">
                                          <button
                                            type="button"
                                            class="btn btn-secondary"
                                            data-bs-dismiss="modal"
                                          >
                                            Cancel
                                          </button>
                                          <button
                                            type="button"
                                            class="btn btn-secondary"
                                            data-bs-dismiss="modal"
                                          >
                                            Ok
                                          </button>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <!-- thanh toán -->
                                </div>
                              </div>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span class="header-title" style="color: #dd2222"
                                >{{totalAmountPaid | number}}đ</span
                              >
                              <input
                                hidden
                                ng-model="requestData.tongTien"
                                type="text"
                                ng-value="totalAmountPaid"
                              />
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <div class="row">
                                <div class="col-lg-7">
                                  <input
                                    disabled
                                    type="text"
                                    class="form-control"
                                  />
                                </div>
                                <div class="col-lg-5">
                                  <button class="btn btn-outline-primary">
                                    Chọn mã
                                  </button>
                                </div>
                              </div>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            ></div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Giao hàng</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <input
                                ng-click="toggleInput()"
                                type="checkbox"
                                id="switch"
                              />
                              <label for="switch"></label>
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title"
                                >Số lượng sản phẩm</span
                              >
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span class="header-title"
                                >{{tongSoLuongSanPham}}</span
                              >
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Tiền hàng</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span
                                class="header-title"
                                ng-model="newTransaction.tongTien"
                                >{{tongTienHang | number}}₫</span
                              >
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Phí vân chuyển</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <input
                                type="text"
                                ng-model="tienGiao"
                                class="form-control hidden-input"
                                ng-show="!showInput"
                                placeholder="Nhập tiền ship"
                              />
                              <span class="header-title" ng-hide="showInput"
                                >0đ</span
                              >
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Tiền giảm giá</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span class="header-title">0đ</span>
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Tiền thừa</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span class="header-title">
                                {{totalAmountPaid- tongTienHang |number }}₫
                              </span>
                              <input
                                hidden
                                ng-model="requestData.tienThua"
                                type="text"
                                ng-value="totalAmountPaid - tongTienHang"
                              />
                            </div>
                          </div>
                        </div>
                        <div class="omni-layout-card--section-section">
                          <div class="omni-layout-card--item-stack-cover">
                            <div class="omni-layout-card--item-stack fill">
                              <span class="header-title">Tổng tiền</span>
                            </div>
                            <div
                              class="omni-layout-card--item-stack fill text-right"
                            >
                              <span class="header-title"
                                >{{tongTienHang | number}}₫</span
                              >
                              <input
                                hidden
                                ng-model="requestData.tongTien"
                                type="text"
                                ng-value="tongTienHang"
                              />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <button
                    class="btn btn-outline-primary"
                    style="
                      margin-left: 900px;
                      margin-top: 25px;
                      font-weight: bold;
                    "
                    ng-show="!showInput"
                    ng-click="createHoaDonChiTiet(tongTienHang, totalAmountPaid, totalAmountPaid - tongTienHang, orderDetailCounter.tenKhach,orderDetailCounter.sodienthoai, orderDetailCounter.diaChi)"
                  >
                    Xác Nhận Thanh Toán
                  </button>
                  <button
                    ng-show="showInput"
                    class="btn btn-outline-primary"
                    style="
                      margin-left: 900px;
                      margin-top: 25px;
                      font-weight: bold;
                    "
                    ng-click="createHoaDonChiTietGiao(tongTienHang, totalAmountPaid, totalAmountPaid - tongTienHang)"
                  >
                    Xác Nhận Giao Hàng
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
