<div class="row">
  <div class="col-lg-12">
    <div class="row">
      <div class="col-lg-12">
        <div class="card overflow-hidden" style="height: 360px">
          <div class="card-body p-4">
            <div class="row">
              <div class="col-lg-6">
                <h5 class="card-title mb-9 fw-semibold">Hóa Đơn</h5>
              </div>
              <div class="col-lg-6" style="padding-left: 429px"></div>
              <div class="col-lg-6">
                <input
                  class="form-control"
                  style="width: 900px"
                  placeholder="Tìm Khách Hàng"
                />
              </div>
              <div class="col-lg-6" style="padding-left: 400px">
                <button
                  type="button"
                  class="btn btn-outline-primary m-1"
                  ng-click="taoHoaDonAndCart()"
                >
                  Tạo hóa đơn
                </button>
              </div>
            </div>
            <hr />
            <div class="box scroll-container table-container">
              <!-- Kiểm tra độ dài danh sách -->
              <table class="table table-hover">
                <thead>
                  <tr style="background-color: lightskyblue">
                    <th scope="col">STT</th>
                    <th scope="col">Mã Hóa Đơn</th>
                    <th scope="col">Nhân Viên</th>
                    <th scope="col">Ngày Tạo</th>
                    <th scope="col">Tổng tiền</th>
                    <th scope="col">Trạng thái</th>
                  </tr>
                </thead>
                <tbody class="table">
                  <tr
                    ng-repeat="hd in listHoaDonTaiQuay"
                    ng-click="showHoaDonTheoId(hd.id)"
                  >
                    <td>{{$index + 1}}</td>
                    <td>{{hd.maHoaDon}}</td>
                    <td>{{hd.tenNhanVien}}</td>
                    <td>
                      {{hd.trangThai == 1 ? "Chờ Thanh Toán" : "Thành Công"}}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    <div class="card overflow-hidden" style="height: 300px">
      <div class="card-body p-4">
        <div class="row">
          <div class="col-lg-6">
            <h5 class="card-title mb-9 fw-semibold">Tài khoản</h5>
          </div>
          <div class="col-lg-6" style="padding-left: 415px">
            <button
              data-bs-toggle="modal"
              data-bs-target="#exampleModal2"
              class="btn btn-outline-primary"
            >
              Chọn tài khoản
            </button>
          </div>
        </div>
        <h6 ng-show="selectedKhachHang.ten != null">
          Họ Và Tên: {{selectedKhachHang.ten}}
        </h6>
        <h6 ng-show="selectedKhachHang.email != null">
          Email: {{selectedKhachHang.email}}
        </h6>
        <h6 ng-show="selectedKhachHang.sodienthoai != null">
          Số Điện Thoại: {{selectedKhachHang.sodienthoai}}
        </h6>
        <hr />
        <h6 ng-show="selectedKhachHang.diaChi != null">
          Địa Chỉ:{{selectedKhachHang.diaChi}}
        </h6>
        <h6
          ng-show="selectedKhachHang === null"
          class="text-customs"
          style="padding-top: 65px"
        >
          Chưa Có Thông Tin Khách Hàng
        </h6>
        <div
          class="modal fade"
          id="exampleModal2"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg">
            <div class="modal-content custom-modal-content">
              <div class="modal-header">
                <h5 class="modal-title">Tìm kiếm Khách Hàng</h5>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-lg-8">
                    <input
                      ng-model="searchKeyword"
                      class="form-control"
                      placeholder="Tìm khách hàng"
                    />
                  </div>
                  <div class="col-lg-4 d-flex justify-content-start">
                    <button
                      ng-click="searchKhach()"
                      type="button"
                      class="btn btn-outline-primary m-1"
                    >
                      Tìm Kiếm
                    </button>
                    <button
                      type="button"
                      ng-click="showKhachHang()"
                      class="btn btn-outline-primary m-1"
                    >
                      Làm mới
                    </button>
                    <button
                      type="button"
                      class="btn btn-outline-primary m-1"
                      data-bs-toggle="modal"
                      data-bs-target="#exampleModal3"
                    >
                      Thêm
                    </button>
                  </div>
                </div>
                <div class="box">
                  <table class="table table-hover">
                    <thead>
                      <tr style="background-color: lightskyblue">
                        <th scope="col">STT</th>
                        <th scope="col">Tên Khách Hàng</th>
                        <th scope="col">Email</th>
                        <th scope="col">Số Điện Thoại</th>
                        <th scope="col">Địa Chỉ</th>
                        <th scope="col">Thao Tác</th>
                      </tr>
                    </thead>
                    <tbody class="table" ng-repeat="kh in listKhachHang">
                      <tr>
                        <th scope="row">{{$index + 1}}</th>
                        <td>{{kh.ten}}</td>
                        <td>{{kh.email}}</td>
                        <td>{{kh.sodienthoai}}</td>
                        <td>{{kh.diaChi}}</td>
                        <td>
                          <button
                            ng-click="viewKhachAndUpdateHoaDon(kh.id)"
                            type="button"
                            data-bs-dismiss="modal"
                            class="btn btn-outline-primary m-1"
                          >
                            Chọn
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
        <div
          class="modal fade"
          id="exampleModal3"
          tabindex="-1"
          aria-labelledby="exampleModalLabel"
          aria-hidden="true"
        >
          <div class="modal-dialog modal-lg">
            <div
              class="modal-content custom-modal-content"
              style="
                width: 620px;
                margin: auto;
                margin-left: 80px;
                height: 500px;
              "
            >
              <div class="modal-header">
                <h5 class="modal-title">Thêm Khách Hàng</h5>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-lg-6">
                    <h6 class="text">Họ Tên</h6>
                    <input
                      class="form-control"
                      placeholder="Nhập họ tên"
                      ng-model="newKhachHang.hoTen"
                    />
                  </div>
                  <div class="col-lg-6">
                    <h6 class="text">Số điên thoại</h6>
                    <input
                      ng-model="newKhachHang.soDienThoai"
                      class="form-control"
                      placeholder="Nhập số điện thoại"
                    />
                  </div>
                </div>
                <br />
                <div class="row">
                  <div class="col-lg-6">
                    <h6 class="text">Email</h6>
                    <input
                      class="form-control"
                      ng-model="newKhachHang.email"
                      placeholder="Nhập email"
                    />
                  </div>
                  <div class="col-lg-6">
                    <h6 class="text">Ngày Sinh</h6>
                    <input
                      type="date"
                      ng-model="newKhachHang.ngaySinh"
                      class="form-control"
                    />
                  </div>
                </div>
                <br />
                <div class="row">
                  <div class="col-lg-12">
                    <h6 class="text">Địa Chỉ</h6>
                    <input
                      class="form-control"
                      placeholder="Nhập địa chỉ"
                      ng-model="newKhachHang.diaChi"
                    />
                  </div>
                </div>
                <div class="row">
                  <div class="col-lg-4">
                    <select
                      style="width: 100%"
                      class="form-select form-select-sm mb-3"
                      id="city"
                      aria-label=".form-select-sm"
                    >
                      <option value="" selected>Chọn tỉnh thành</option>
                    </select>
                  </div>
                  <div class="col-lg-4">
                    <select
                      style="width: 100%"
                      class="form-select form-select-sm mb-3"
                      id="district"
                      aria-label=".form-select-sm"
                    >
                      <option value="" selected>Chọn quận huyện</option>
                    </select>
                  </div>
                  <div class="col-lg-4">
                    <select
                      style="width: 100%"
                      class="form-select form-select-sm"
                      id="ward"
                      aria-label=".form-select-sm"
                    >
                      <option value="" selected>Chọn phường xã</option>
                    </select>
                  </div>
                </div>
                <br />
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  ng-click="createKhahHang()"
                  data-bs-dismiss="modal"
                >
                  Thêm
                </button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-bs-dismiss="modal"
                >
                  Close
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-lg-12">
    <div class="row">
      <div class="col-lg-12">
        <div class="card overflow-hidden">
          <div class="card-body p-4">
            <h5 class="card-title mb-9 fw-semibold">Thông Tin Sản Phẩm</h5>
            <div class="row">
              <div class="col-lg-10">
                <input
                  style="width: 1030px"
                  class="form-control"
                  placeholder="Tìm Sản Phẩm"
                  data-bs-toggle="modal"
                  data-bs-target="#exampleModal"
                />
              </div>
              <div class="col-lg-2">
                <a href=""
                  ><img
                    src="/assets/images/qr-code.png"
                    width="35px"
                    style="margin-left: 100px"
                /></a>
              </div>
            </div>
            <div
              class="modal fade"
              id="exampleModal"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-lg">
                <div class="modal-content custom-modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title">Tìm kiếm sản phẩm</h5>
                  </div>
                  <div class="modal-body">
                    <div class="row">
                      <div class="col-lg-8">
                        <input
                          ng-model="keyName"
                          class="form-control"
                          placeholder="Tìm sản phẩm"
                        />
                      </div>
                      <div class="col-lg-4 d-flex justify-content-start">
                        <button
                          ng-click="searchSanPham()"
                          type="button"
                          class="btn btn-outline-primary m-1"
                        >
                          Tìm Kiếm
                        </button>
                        <button
                          type="button"
                          ng-click="getListSanPhamTaiQuay()"
                          class="btn btn-outline-primary m-1"
                        >
                          Làm mới
                        </button>
                      </div>
                    </div>
                    <br />
                    <div class="box">
                      <table class="table table-hover">
                        <thead>
                          <tr style="background-color: lightskyblue">
                            <th scope="col">STT</th>
                            <th scope="col">Ảnh</th>
                            <th scope="col">Tên Sản Phẩm</th>
                            <th scope="col">Giá</th>
                            <th scope="col">Số Lượng</th>
                            <th scope="col">Kích Thước</th>
                            <th scope="col">Kiểu Đế</th>
                            <th scope="col">Màu Sắc</th>
                            <th scope="col">Thao Tác</th>
                          </tr>
                        </thead>
                        <tbody
                          class="table"
                          ng-repeat="sp in listSanPhamTaiQuay"
                          style="border: 1px solid #ccc"
                        >
                          <tr>
                            <th scope="row">{{$index + 1}}</th>
                            <td>
                              <div style="position: relative">
                                <img src="{{sp.imgage}}" alt="" width="150px" />
                                <div
                                  ng-show="sp.mucGiam != null"
                                  class="product__discount__percent"
                                  style="
                                    position: absolute;
                                    top: 20%;
                                    left: 25%;
                                    transform: translate(-50%, -50%);
                                    background-color: #dd2222;
                                    color: #ffffff;
                                    border-radius: 50%;
                                    padding: 5px;
                                  "
                                >
                                  -{{sp.mucGiam}}%
                                </div>
                              </div>
                            </td>
                            <td style="padding-top: 80px">{{sp.tenSanPham}}</td>
                            <td style="padding-top: 80px">
                              <div ng-show="sp.giaGiamGia != null">
                                {{sp.giaGiamGia | number}}₫
                                <span>
                                  <strike>{{sp.giaBan | number}}₫</strike></span
                                >
                              </div>
                              <div ng-show="sp.giaGiamGia == null">
                                {{sp.giaBan | number}}₫
                              </div>
                            </td>
                            <td style="padding-top: 80px">{{sp.soLuong}}</td>
                            <td style="padding-top: 80px">{{sp.size}}</td>
                            <td style="padding-top: 80px">{{sp.kieuDe}}</td>
                            <td style="padding-top: 80px">{{sp.mauSac}}</td>
                            <td style="padding-top: 60px">
                              <button
                                type="button"
                                class="btn btn-outline-primary m-1"
                                data-bs-toggle="modal"
                                data-bs-target="#exampleModal1"
                                ng-click="selectedProductQuantity(sp.soLuong, sp.id)"
                              >
                                Chọn
                              </button>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Close
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- modal sản phẩm -->
            <!-- modal thêm sản phẩm -->
            <div
              class="modal fade"
              id="exampleModal1"
              tabindex="-1"
              aria-labelledby="exampleModalLabel"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-lg">
                <div
                  class="modal-content custom-modal-content"
                  style="width: 330px; margin-left: 250px; margin-top: 200px"
                >
                  <div class="modal-header"></div>
                  <div class="modal-body" style="padding-left: 90px">
                    <h6>Số lượng sản phẩm: {{luuSoLuong}}</h6>
                    <div class="quantity">
                      <div class="pro-qty">
                        <span class="dec qtybtn">-</span>
                        <input
                          type="text"
                          value="1"
                          ng-model="soLuongSanPham"
                        />
                        <span class="inc qtybtn">+</span>
                      </div>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Cancel
                    </button>
                    <button
                      type="button"
                      class="btn btn-secondary"
                      ng-click="themSanPhamCart(idSanPhamChiTiet)"
                    >
                      Thêm sản phẩm
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <!-- modal thêm sản phẩm -->
            <hr style="margin-top: 90px" />
            <h5 class="card-title mb-9 fw-semibold">Thông Tin Thanh Toán</h5>
            <div class="layout-card--section">
              <div class="container">
                <div class="row">
                  <div class="col-lg-6"></div>
                  <div class="col-sm-6 col-12">
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div class="omni-layout-card--item-stack fill">
                          <span class="header-title">Số lượng sản phẩm</span>
                        </div>
                        <div
                          class="omni-layout-card--item-stack fill text-right"
                        >
                          <span class="header-title"
                            >{{tongSoLuongSanPham}}</span
                          >
                        </div>
                      </div>
                    </div>
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div class="omni-layout-card--item-stack fill">
                          <span class="header-title">Tổng Tiền Hàng</span>
                        </div>
                        <div
                          class="omni-layout-card--item-stack fill text-right"
                        >
                          <span class="header-title"
                            >{{tongTienHang | number}}₫</span
                          >
                        </div>
                      </div>
                    </div>
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div
                          class="omni-layout-card--item-stack fill"
                          style="padding-top: 5px"
                        >
                          <span class="header-title">Tiền khách đưa</span>
                        </div>
                        <div
                          class="omni-layout-card--item-stack fill text-right"
                        >
                          <input
                            class="form-control"
                            placeholder="Nhập tiền khách đưa"
                            ng-model="tienKhachDua"
                            ng-change="calculateChange()"
                          />
                        </div>
                      </div>
                    </div>
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div class="omni-layout-card--item-stack fill">
                          <span class="header-title">Tiền thừa trả khách</span>
                        </div>
                        <div
                          class="omni-layout-card--item-stack fill text-right"
                        >
                          <span class="header-title"
                            >{{ tienThua | number }}₫</span
                          >
                        </div>
                      </div>
                    </div>
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div class="omni-layout-card--item-stack fill">
                          <span class="header-title">Hình thức thanh toán</span>
                        </div>
                        <select
                          class="form-select"
                          aria-label="Default select example"
                          style="width: 300px; margin-left: 54px"
                        >
                          <option value="1" selected>Online</option>
                          <option value="2">Tiền mặt</option>
                          <option value="3">Online và Tiền mặt</option>
                        </select>
                      </div>
                    </div>
                    <div class="omni-layout-card--section-section">
                      <div class="omni-layout-card--item-stack-cover">
                        <div class="omni-layout-card--item-stack fill">
                          <span class="header-title">Mô Tả</span>
                        </div>
                        <div
                          class="omni-layout-card--item-stack fill text-right"
                        >
                          <textarea
                            style="width: 300px; margin-left: 156px"
                            class="next-input"
                            id="exampleFormControlTextarea6"
                            rows="3"
                            placeholder="Nhập mô tả"
                          ></textarea>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <button
                class="btn btn-outline-primary"
                style="margin-left: 900px; margin-top: 25px; font-weight: bold"
              >
                Xác Nhận Thanh Toán
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
